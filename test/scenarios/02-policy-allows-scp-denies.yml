# Test: Policy allows S3, but SCP denies all S3
# Expected: All S3 actions explicitDeny (SCP explicitly blocks)

policy_json: "../policies/allow-s3.json"

scp_paths:
  - "../scp/permissive.json"
  - "../scp/deny-s3.json"

tests:
  - action: "s3:GetObject"
    resource: "arn:aws:s3:::test-bucket/*"
    expect: "explicitDeny"

  - action: "s3:PutObject"
    resource: "arn:aws:s3:::test-bucket/*"
    expect: "explicitDeny"

  - action: "s3:ListBucket"
    resource: "arn:aws:s3:::test-bucket/*"
    expect: "explicitDeny"
