# Test: Policy allows DynamoDB, but RCP denies all DynamoDB
# Expected: All DynamoDB actions explicitDeny (RCP explicitly blocks)
# Note: RCPs are passed as PermissionsBoundaryPolicyInputList in the code

policy_json: "../policies/allow-dynamodb.json"

scp_paths:
  - "../rcp/deny-dynamodb.json"

tests:
  - action: "dynamodb:GetItem"
    resource: "*"
    expect: "explicitDeny"

  - action: "dynamodb:PutItem"
    resource: "*"
    expect: "explicitDeny"

  - action: "dynamodb:Query"
    resource: "*"
    expect: "explicitDeny"
